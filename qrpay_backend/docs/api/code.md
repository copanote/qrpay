# 📋 QRPAY API 응답 코드 정의서

API 응답 시 `code` 필드에 전달되는 공통 응답 코드 및 에러 코드 정의입니다. 성공 코드(`MP0000`) 이외의 코드는 모두 실패를 의미하며, 클라이언트에서는 각 코드에 따른 예외 처리가 필요합니다.

---

### 🔖 도메인 바로가기

* [공통/시스템 (CM)](#-공통시스템-common-cm)
* [인증/인가 (AU)](#-인증인가-auth-au)
* [회원 (MB)](#-회원-member-mb)
* [가맹점 (MC)](#-가맹점-merchant-mc)
* [거래/결제 (TX)](#-거래결제-transaction-tx)
* [QR (QR)](#-qr-qr-qr)
* [외부 연동 (NC)](#-외부-연동-external-nc)

---

### ✅ 성공 (Success)

|   응답 코드    | HTTP 상태 | 메시지     | 설명                 |
|:----------:|:-------:|:--------|:-------------------|
| **MP0000** |   200   | Success | 요청이 성공적으로 처리되었습니다. |

---

### ⚙️ 공통/시스템 (Common: CM)

|  응답 코드   | HTTP 상태 | 메시지                  | 설명                    |
|:--------:|:-------:|:---------------------|:----------------------|
| `CM0001` |   404   | QRPAYLOG를 찾을 수 없습니다. | 내부 로그 조회 실패           |
| `CM0002` |   400   | Invalid Parameters   | 요청 파라미터 유효성 검증 실패     |
| `CM0003` |   500   | Hash오류               | 암복호화 및 해시 처리 중 시스템 오류 |
| `CM9999` |   500   | System오류             | 기타 정의되지 않은 서버 내부 오류   |

---

### 🔐 인증/인가 (Auth: AU)

|  응답 코드   | HTTP 상태 | 메시지                    | 설명                      |
|:--------:|:-------:|:-----------------------|:------------------------|
| `AU0001` |   401   | 인증필요                   | 토큰 누락 또는 세션 만료          |
| `AU0002` |   401   | 인증필요(ARGUMENT_HANDLER) | 인증 객체 주입 실패             |
| `AU0003` |   403   | 인증정보와 요청정보가 일치하지 않습니다  | 타인의 정보에 대한 접근 시도        |
| `AU0004` |   403   | 비밀번호가 올바르지 않습니다...     | 로그인 비밀번호 불일치 (5회 제한 적용) |
| `AU0005` |   403   | 비밀번호 오류 횟수 5회 이상...    | 계정 잠금 상태 (재설정 필요)       |
| `AU0006` |   403   | 접근권한이 없습니다             | 해당 API 호출 권한 미보유        |
| `AU0007` |   401   | 리프레시토큰없음(인증필요)         | Refresh Token 누락        |
| `AU0008` |   401   | 리프레시토큰인증실패(인증필요)       | Refresh Token 만료 또는 위변조 |

---

### 👤 회원 (Member: MB)

|  응답 코드   | HTTP 상태 | 메시지                 | 설명                     |
|:--------:|:-------:|:--------------------|:-----------------------|
| `MB0001` |   404   | 회원정보를 찾을 수 없습니다.    | 조회된 회원 ID가 존재하지 않음     |
| `MB0002` |   409   | 탈회한 사용자             | 이미 탈퇴 처리가 완료된 회원       |
| `MB0003` |   409   | 일시정지(사용중지) 사용자      | 관리자에 의해 이용 정지된 회원      |
| `MB0004` |   405   | 탈회회원은 회원상태변경 불가     | 해지된 계정의 상태값 변경 시도      |
| `MB0005` |   403   | 해지요청자와 사용자의 가맹점 불일치 | 가맹점 소속 확인 실패           |
| `MB0006` |   405   | 일반사용자가 아닙니다         | 권한 그룹(Role) 불일치        |
| `MB0007` |   409   | 비밀번호 재사용 금지         | 현재/기존 비밀번호와 중복 불가      |
| `MB0008` |   409   | 확인비밀번호 불일치          | 비밀번호 재입력란 불일치          |
| `MB0009` |   409   | 비밀번호 정책위반...        | 6자리 숫자, 동일/연속 숫자 사용 불가 |
| `MB0010` |   409   | 동일ID 존재             | Login ID 중복 확인 실패      |
| `MB0011` |   409   | ID 정책위반...          | ID 생성 규칙 위반            |

---

### 🏪 가맹점 (Merchant: MC)

|  응답 코드   | HTTP 상태 | 메시지                | 설명               |
|:--------:|:-------:|:-------------------|:-----------------|
| `MC0001` |   404   | 가맹점정보를 찾을 수 없습니다.  | 존재하지 않는 가맹점 번호   |
| `MC0002` |   409   | 탈회한 가맹점            | 영업 종료 또는 해지된 가맹점 |
| `MC0003` |   409   | 활성화 가맹점 아님         | 미승인 또는 거래 중지 상태  |
| `MC0004` |   409   | 가맹점이름은 14자리 이하로... | 이름 길이 제한 정책 위반   |

---

### 💳 거래/결제 (Transaction: TX)

|  응답 코드   | HTTP 상태 | 메시지               | 설명                   |
|:--------:|:-------:|:------------------|:---------------------|
| `TX0001` |   400   | 조회 조건이 잘 못 되었습니다. | 날짜 형식 오류 또는 조회 기간 초과 |

---

### 🖼️ QR (QR: QR)

|  응답 코드   | HTTP 상태 | 메시지                | 설명                          |
|:--------:|:-------:|:-------------------|:----------------------------|
| `QR0001` |   405   | QR KIT는 최대 3개까지... | 키트 신청 수량 제한 초과              |
| `QR0002` |   405   | 지원하지 않는 MPMQR PIM  | PIM 타입(STATIC/DYNAMIC) 값 오류 |

---

### 🔗 외부 연동 (External: NC)

|  응답 코드   | HTTP 상태 | 메시지           | 설명                   |
|:--------:|:-------:|:--------------|:---------------------|
| `NC0001` |   403   | 이미 사용완료된 인증정보 | 나이스 인증키 등 1회성 정보 재사용 |